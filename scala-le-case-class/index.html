<!DOCTYPE html>
<html lang="en-US">

<!-- Mirrored from codingjam.it/scala-le-case-class/ by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 05 Dec 2020 10:22:25 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="profile" href="http://gmpg.org/xfn/11">
  <link rel="pingback" href="../xmlrpc.php">

  <title>Scala: le case class &#8211; CodingJam</title>
<link rel='dns-prefetch' href='http://fonts.googleapis.com/' />
<link rel='dns-prefetch' href='http://s.w.org/' />
<link rel="alternate" type="application/rss+xml" title="CodingJam &raquo; Feed" href="../feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="CodingJam &raquo; Comments Feed" href="../comments/feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="CodingJam &raquo; Scala: le case class Comments Feed" href="https://codingjam.it/scala-le-case-class/feed/" />
<link rel='stylesheet' id='wp-block-library-css'  href='../wp-content/plugins/gutenberg/build/block-library/stylea4fb.css?ver=1591004795' type='text/css' media='all' />
<link rel='stylesheet' id='cookie-law-info-css'  href='../wp-content/plugins/cookie-law-info/public/css/cookie-law-info-public3cf4.css?ver=1.8.8' type='text/css' media='all' />
<link rel='stylesheet' id='cookie-law-info-gdpr-css'  href='../wp-content/plugins/cookie-law-info/public/css/cookie-law-info-gdpr3cf4.css?ver=1.8.8' type='text/css' media='all' />
<link crossorigin="anonymous" rel='stylesheet' id='melissa-google-fonts-css'  href='https://fonts.googleapis.com/css?family=Lato%3A400%2C400i%2C700%2C700i%7CNoto+Serif%3A400%2C400i%2C700%2C700i&amp;subset=latin&amp;ver=1.1.6' type='text/css' media='all' />
<link rel='stylesheet' id='bootstrap-css'  href='../wp-content/themes/melissa/css/bootstrap.min7433.css?ver=3.3.7' type='text/css' media='all' />
<link rel='stylesheet' id='bootstrap-theme-css'  href='../wp-content/themes/melissa/css/bootstrap-theme.min7433.css?ver=3.3.7' type='text/css' media='all' />
<link rel='stylesheet' id='melissa-ie10-viewport-bug-workaround-css'  href='../wp-content/themes/melissa/css/ie10-viewport-bug-workaround8a54.css?ver=1.0.0' type='text/css' media='all' />
<link rel='stylesheet' id='font-awesome-css'  href='../wp-content/themes/melissa/css/font-awesome.min1849.css?ver=4.7.0' type='text/css' media='all' />
<link rel='stylesheet' id='owl-carousel-css'  href='../wp-content/themes/melissa/assets/owl-carousel/owl.carousel3ba1.css?ver=1.3.3' type='text/css' media='all' />
<link rel='stylesheet' id='owl-theme-css'  href='../wp-content/themes/melissa/assets/owl-carousel/owl.theme3ba1.css?ver=1.3.3' type='text/css' media='all' />
<link rel='stylesheet' id='magnific-popup-css'  href='../wp-content/themes/melissa/assets/magnific-popup/magnific-popupf488.css?ver=1.1.0' type='text/css' media='all' />
<link rel='stylesheet' id='melissa-style-css'  href='../wp-content/themes/melissa/style3ec8.css?ver=1.1.6' type='text/css' media='all' />
<style id='melissa-style-inline-css' type='text/css'>

    .bwp-post-media img,
    .bwp-post-carousel-item img,
    .widget_bwp_posts_slider_item img {
      width: 100%;
      margin: 0;
    }
    .bwp-post-wrap:hover {
      margin-top: 0;
      -webkit-box-shadow: 0 4px 0 -2px rgba(46,51,64,0.1);
      -moz-box-shadow: 0 4px 0 -2px rgba(46,51,64,0.1);
      box-shadow: 0 4px 0 -2px rgba(46,51,64,0.1);
    }
    #bwp-masonry-container.no-masonry .bwp-post-wrap:hover {
      top: 0;
    }
    .bwp-no-results-container:hover,
    .bwp-single-article:hover,
    .bwp-featured-media-container:hover,
    .post-navigation .nav-links a:hover,
    .bwp-about-author-container:hover,
    .comment-respond:hover,
    .comment-body:hover,
    #comments .no-comments:hover,
    .comment-navigation .nav-links a:hover,
    .bwp-related-post-wrap:hover,
    .bwp-page-404-container:hover,
    .bwp-sidebar-wrap:hover {
      top: 0;
      -webkit-box-shadow: 0 4px 0 -2px rgba(46,51,64,0.1);
      -moz-box-shadow: 0 4px 0 -2px rgba(46,51,64,0.1);
      box-shadow: 0 4px 0 -2px rgba(46,51,64,0.1);
    }
  #bwp-header-wrap {
    background-color: #2e3340;
  }
  .bwp-header-bg-overlay,
  .bwp-header-rs-bg-overlay {
    background-color: rgba(46, 51, 64, 0.9);
  }
    .bwp-content a,
    .comment-content a,
    .bwp-post-quote a {
      color: #2052bf;
    }
</style>
<link rel='stylesheet' id='enlighter-local-css'  href='../wp-content/plugins/enlighter/resources/EnlighterJS.min9086.css?ver=3.9.0' type='text/css' media='all' />
<script type='text/javascript' src='../wp-includes/js/jquery/jquery4a5f.js?ver=1.12.4-wp'></script>
<script type='text/javascript' src='../wp-includes/js/jquery/jquery-migrate.min330a.js?ver=1.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var Cli_Data = {"nn_cookie_ids":[],"cookielist":[]};
var log_object = {"ajax_url":"https:\/\/codingjam.it\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='../wp-content/plugins/cookie-law-info/public/js/cookie-law-info-public3cf4.js?ver=1.8.8'></script>
<!--[if lt IE 9]>
<script type='text/javascript' src='https://codingjam.it/wp-content/themes/melissa/js/html5shiv.min.js?ver=3.7.3'></script>
<![endif]-->
<!--[if lt IE 9]>
<script type='text/javascript' src='https://codingjam.it/wp-content/themes/melissa/js/respond.min.js?ver=1.4.2'></script>
<![endif]-->
<script type='text/javascript' src='../wp-content/plugins/enlighter/resources/mootools-core-yc9086.js?ver=3.9.0'></script>
<script type='text/javascript' src='../wp-content/plugins/enlighter/resources/EnlighterJS.min9086.js?ver=3.9.0'></script>
<link rel='https://api.w.org/' href='../wp-json/index.html' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../xmlrpc0db0.php?rsd" />
<link rel='prev' title='JSON Web Token: JAAS stateless authentication per Tomcat' href='https://codingjam.it/json-web-token-jaas-stateless-authentication-per-tomcat/' />
<link rel='next' title='LambdaCon visto da noi ovvero commenti non richiesti su un’ottima conferenza' href='../lambdacon-visto-da-noi-ovvero-commenti-non-richiesti-su-unottima-conferenza/index.html' />
<meta name="generator" content="WordPress 5.4.1" />
<link rel="canonical" href="index.html" />
<link rel='shortlink' href='https://codingjam.it/?p=12167' />
<link rel="alternate" type="application/json+oembed" href="https://codingjam.it/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fcodingjam.it%2Fscala-le-case-class%2F" />
<link rel="alternate" type="text/xml+oembed" href="https://codingjam.it/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fcodingjam.it%2Fscala-le-case-class%2F&amp;format=xml" />
<link rel="amphtml" href="https://codingjam.it/scala-le-case-class/amp/"><script type="text/javascript">/* <![CDATA[ */EnlighterJS_Config = {"selector":{"block":"pre.EnlighterJSRAW","inline":"code.EnlighterJSRAW"},"language":"generic","theme":"droide","indent":2,"hover":"hoverEnabled","showLinenumbers":true,"rawButton":true,"infoButton":false,"windowButton":false,"rawcodeDoubleclick":false,"grouping":true,"cryptex":{"enabled":false,"email":"mail@example.tld"}};!function(){var a=function(a){var b="Enlighter Error: ";console.error?console.error(b+a):console.log&&console.log(b+a)};return window.addEvent?"undefined"==typeof EnlighterJS?void a("Javascript Resources not loaded yet!"):"undefined"==typeof EnlighterJS_Config?void a("Configuration not loaded yet!"):void window.addEvent("domready",function(){EnlighterJS.Util.Init(EnlighterJS_Config.selector.block,EnlighterJS_Config.selector.inline,EnlighterJS_Config)}):void a("MooTools Framework not loaded yet!")}();;/* ]]> */</script><link rel="icon" href="../wp-content/uploads/2018/09/cropped-codingjam-jar-transp-white-big-512-32x32.png" sizes="32x32" />
<link rel="icon" href="../wp-content/uploads/2018/09/cropped-codingjam-jar-transp-white-big-512-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon" href="../wp-content/uploads/2018/09/cropped-codingjam-jar-transp-white-big-512-180x180.png" />
<meta name="msapplication-TileImage" content="https://codingjam.it/wp-content/uploads/2018/09/cropped-codingjam-jar-transp-white-big-512-270x270.png" />
</head>

<body class="post-template-default single single-post postid-12167 single-format-standard wp-custom-logo">


<!-- header -->
<header id="bwp-header-wrap" class="bwp-header-simple">

  <!-- header bg -->
    <div class="bwp-header-bg" style="background: url(../wp-content/uploads/2017/07/cropped-P6261835_2.jpg) 50% 0 no-repeat">
    <div class="bwp-header-bg-overlay"></div>

    <!-- header content -->
    <div class="container">
      <div class="bwp-header-content-container">

        <!-- row 1 - logo + navigation -->
        <div class="bwp-main-navigation-container clearfix">

          
        <!-- image logo -->
        <div class="bwp-logo-container">
          <a href="../index.html" class="custom-logo-link" rel="home"><img width="207" height="70" src="../wp-content/uploads/2018/09/cropped-logo-cnj-bianco.png" class="custom-logo" alt="CodingJam" srcset="https://codingjam.it/wp-content/uploads/2018/09/cropped-logo-cnj-bianco.png 207w, https://codingjam.it/wp-content/uploads/2018/09/cropped-logo-cnj-bianco-150x51.png 150w" sizes="(max-width: 207px) 100vw, 207px" /></a>        </div>
        <!-- end image logo -->

        
      <!-- search -->
      <div class="bwp-header-search-container hidden-sm hidden-xs">
        <a href="#" id="bwp-header-search-icon">
          <i class="fa fa-search"></i>
        </a>
        <div class="bwp-dropdown-search-container bwp-search-hidden">
          
<!-- search form -->
<form id="searchform" role="search" method="get" action="https://codingjam.it/">
  <div class="input-group">
    <input type="text" name="s" id="s" class="bwp-search-field form-control" placeholder="Enter your search query...">
    <span class="input-group-btn">
      <button type="submit" class="btn bwp-search-submit">
        <i class="fa fa-search"></i>
      </button>
    </span>
  </div>
</form>
<!-- end search form -->
        </div>
      </div>
      <!-- end search -->

      
      <!-- menu -->
      <div class="bwp-menu-container hidden-sm hidden-xs">
        <nav class="menu-menu-navigation-2-container"><ul id="menu-menu-navigation-2" class="sf-menu"><li id="menu-item-12007" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12007"><a href="#">Programmazione</a>
<ul class="sub-menu">
	<li id="menu-item-12022" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12022"><a href="../category/java/index.html">Java</a></li>
	<li id="menu-item-12009" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12009"><a href="../category/java/java-8/index.html">Java 8</a></li>
	<li id="menu-item-12020" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12020"><a href="../category/rxjava/index.html">RxJava</a></li>
	<li id="menu-item-12017" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-12017"><a href="../category/scala/index.html">Scala</a></li>
</ul>
</li>
<li id="menu-item-12006" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12006"><a href="../category/agile/index.html">Agile</a></li>
<li id="menu-item-12005" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12005"><a href="../category/android/index.html">Android</a></li>
<li id="menu-item-12008" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12008"><a href="#">Web</a>
<ul class="sub-menu">
	<li id="menu-item-12014" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12014"><a href="../category/angularjs/index.html">AngularJS</a></li>
	<li id="menu-item-12012" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12012"><a href="../category/ejb/index.html">EJB</a></li>
	<li id="menu-item-12010" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12010"><a href="../category/javascript/index.html">Javascript</a></li>
	<li id="menu-item-12021" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12021"><a href="../category/application-server/jboss/index.html">JBoss</a></li>
	<li id="menu-item-12016" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12016"><a href="../category/jsf/index.html">JSF</a></li>
	<li id="menu-item-12015" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12015"><a href="../category/jquery-2/index.html">jQuery</a></li>
	<li id="menu-item-12019" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12019"><a href="../category/spring-2/index.html">Spring</a></li>
	<li id="menu-item-12018" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12018"><a href="../category/application-server/websphere/index.html">Websphere</a></li>
</ul>
</li>
</ul></nav>      </div>
      <!-- end menu -->

      
      <!-- mobile menu -->
      <div class="bwp-mobile-menu-container hidden-md hidden-lg">
        <!-- mobile menu icon -->
        <a href="#" id="bwp-mobile-menu-icon">
          <i class="fa fa-bars"></i>
        </a>
        <!-- end mobile menu icon -->
        <!-- dropdown mobile menu -->
        <div class="bwp-dropdown-mobile-menu bwp-mobile-menu-hidden">
          <nav class="menu-menu-navigation-2-container"><ul id="menu-menu-navigation-3" class="bwp-mobile-menu list-unstyled"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12007"><a href="#">Programmazione</a>
<ul class="sub-menu">
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12022"><a href="../category/java/index.html">Java</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12009"><a href="../category/java/java-8/index.html">Java 8</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12020"><a href="../category/rxjava/index.html">RxJava</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-12017"><a href="../category/scala/index.html">Scala</a></li>
</ul>
</li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12006"><a href="../category/agile/index.html">Agile</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12005"><a href="../category/android/index.html">Android</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12008"><a href="#">Web</a>
<ul class="sub-menu">
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12014"><a href="../category/angularjs/index.html">AngularJS</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12012"><a href="../category/ejb/index.html">EJB</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12010"><a href="../category/javascript/index.html">Javascript</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12021"><a href="../category/application-server/jboss/index.html">JBoss</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12016"><a href="../category/jsf/index.html">JSF</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12015"><a href="../category/jquery-2/index.html">jQuery</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12019"><a href="../category/spring-2/index.html">Spring</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12018"><a href="../category/application-server/websphere/index.html">Websphere</a></li>
</ul>
</li>
</ul></nav>        </div>
        <!-- end dropdown mobile menu -->
      </div>
      <!-- end mobile menu -->

      
        </div>
        <!-- end row 1 - logo + navigation -->

        
          <!-- row 2 - header custom text -->
          <div class="bwp-header-custom-text-container">
            
        <!-- custom text - single page -->
        <h1 class="bwp-header-custom-title entry-title">
          Scala: le case class        </h1>
                <div class="bwp-header-transparent-line clearfix">
          <span class="bwp-header-t-line-1"></span>
          <span class="bwp-header-t-line-2"></span>
        </div>
        <!-- end custom text -->

                  </div>
          <!-- end row 2 - header custom text -->

          
      </div>
    </div>
    <!-- end header content -->
  </div>
  <!-- end header bg -->

  
        <!-- sticky navigation -->
        <div class="bwp-sticky-navigation-wrap bwp-transition-4 clearfix">
          <!-- sticky navigation icon -->
          <a href="#" id="bwp-sticky-navigation-icon">
            <i class="fa fa-bars"></i>
          </a>
          <!-- end sticky navigation icon -->
          <!-- sticky navigation container -->
          <div class="bwp-sticky-navigation-container bwp-sticky-navigation-hidden">
            <nav class="menu-menu-navigation-2-container"><ul id="menu-menu-navigation-4" class="sf-menu"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12007"><a href="#">Programmazione</a>
<ul class="sub-menu">
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12022"><a href="../category/java/index.html">Java</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12009"><a href="../category/java/java-8/index.html">Java 8</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12020"><a href="../category/rxjava/index.html">RxJava</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-12017"><a href="../category/scala/index.html">Scala</a></li>
</ul>
</li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12006"><a href="../category/agile/index.html">Agile</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12005"><a href="../category/android/index.html">Android</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12008"><a href="#">Web</a>
<ul class="sub-menu">
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12014"><a href="../category/angularjs/index.html">AngularJS</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12012"><a href="../category/ejb/index.html">EJB</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12010"><a href="../category/javascript/index.html">Javascript</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12021"><a href="../category/application-server/jboss/index.html">JBoss</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12016"><a href="../category/jsf/index.html">JSF</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12015"><a href="../category/jquery-2/index.html">jQuery</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12019"><a href="../category/spring-2/index.html">Spring</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12018"><a href="../category/application-server/websphere/index.html">Websphere</a></li>
</ul>
</li>
</ul></nav>          </div>
          <!-- end sticky navigation container -->
        </div>
        <!-- end sticky navigation -->

        
</header>
<!-- end header -->

  <!-- blog post - single page -->
  <section id="bwp-single-page-wrap">
    <div class="container">
      <div class="bwp-single-page-container" >

        
                  <div class="row"><div class="col-md-8 bwp-single-content-col bwp-sidebar-right"><div class="bwp-single-content-col-wrap" role="main">
        
        <!-- article -->
        <article id="post-12167" class="bwp-single-article bwp-transition-3">

          
          <!-- content container -->
          <div class="bwp-single-content">

            <!-- content -->
            <div class="bwp-content entry-content clearfix">
              <h1 id="scala_usare_le_case_class">Scala: le case class</h1>
<p>Dopo aver visto come <a href="http://www.cosenonjaviste.it/creare-una-classe-in-scala/">creare una classe</a> in Scala e come <a href="https://github.com/chjj/marked">utilizzare i costruttori ausiliari</a> vediamo oggi le <em>case class</em>. C&#8217;è da dire subito che le case class <em>non</em> sono delle classi speciali ma sono un&#8217;abbreviazione sintattica tanto semplice quanto molto, molto comoda e diffusa ovunque nel codice scritto in Scala.</p>
<p>Nel post precedente eravamo arrivati a definire una classe <code>HardDisk</code> in questo modo. </p>
<pre class="brush: scala; title: ; notranslate" title="">
class HardDisk(var size: Int, var usedSpace: Int) {
  override def toString = s&quot;HardDisk[Size $size, Used space $usedSpace]&quot;
}
</pre>
<p>Da quanto avevamo visto, sappiamo che Scala definisce per noi un costruttore, le member variable, i getter e, in base al modificatore <code>var</code>/<code>val</code>, decide se aggiungere o meno i setter. Se i setter non sono aggiunti (caso <code>val</code>), la classe risulterà <a href="http://www.cosenonjaviste.it/le-classi-immutabili-in-java/">immutabile</a> e quindi una volta istanziata non se ne potranno modificare i valori.</p>
<p>Una case class corrisponde proprio a quest&#8217;ultimo caso. A cosa possa mai servire un oggetto che non modifichiamo mai, da bravi Javisti, proprio non riusciamo ad immaginarcelo, ma questo lo chiariremo nella seconda parte del post. Vediamo allora come si dichiara e come si usa una case class. La sintassi è estremamente semplice.</p>
<pre class="brush: scala; title: ; notranslate" title="">
case class HardDisk(size: Int, usedSpace: Int)
</pre>
<p>Finito, non ci sono altre righe da scrivere :-). Cosa abbiamo dichiarato allora? Un bel po&#8217; di cose che elenco qui sotto:</p>
<ul>
<li>la classe HardDisk (ovviamente),</li>
<li>le member variable <code>size</code> e <code>usedSpace</code> entrambe immutabili,</li>
<li>i due getter corrispondenti,</li>
</ul>
<p>e in più rispetto alla dichiarazione standard:</p>
<ul>
<li>il metodo <code>toString</code></li>
<li>il metodo <code>hashCode</code></li>
<li>il metodo <code>copy</code></li>
<li>il metodo <code>equals</code></li>
</ul>
<p>e inoltre un companion object dotato di metodo <code>apply</code> e <code>unapply</code>.</p>
<h2 id="facciamo_ordine_il_companion_object">Facciamo ordine, il companion object</h2>
<p>Abbiamo messo molta carne al fuoco, vediamo di spiegare i concetti uno alla volta partendo dal fondo dove forse le cose sono più oscure. Un companion object è un semplicemente un oggetto singleton che ha lo stesso nome della classe e che per convenzione in Scala può accedere alle sue parti private.  In genere si utilizzano i companion per raggruppare i metodi di utilità, nel caso della case class ne abbiamo due e vengono usati per istanziare la classe (<code>apply</code>) e per gestire il <em>pattern matching</em> (<code>unapply</code>). C&#8217;è molto da dire sul pattern matching e quindi lo affronteremo in un prossimo post. Per il momento ci limitiamo a dire che una case class può essere istanziata così come abbiamo già visto:</p>
<pre class="brush: scala; title: ; notranslate" title="">
val hd1 = new HardDisk(250, 10)
</pre>
<p>oppure usando il metodo <code>apply</code> del companion object che fa esattamente la stessa cosa</p>
<pre class="brush: scala; title: ; notranslate" title="">
val hd1 = HardDisk.apply(250, 10)  // def apply(size: Int, usedSpace: Int) = new HardDisk(size, usedSpace)
</pre>
<p>In Scala esiste una convenzione sul metodo <code>apply</code>: questo metodo può essere invocato omettendone il nome e usando solo le parentesi, quindi nel caso della case class possiamo scrivere anche:</p>
<pre class="brush: scala; title: ; notranslate" title="">
val hd1 = HardDisk(250, 10)
</pre>
<p>Quest&#8217;ultima sintassi può sembrare un po&#8217; strana: sembra che ci siamo dimenticati il <code>new</code>. Tuttavia è quella che più si avvicina agli <a href="http://en.wikipedia.org/wiki/Algebraic_data_type">Algebraic Data Type (ADT)</a> che tanto sono utilizzati nella <em>programmazione funzionale</em>.</p>
<h2 id="i_metodi_tostring_e_hashcode">I metodi toString e hashCode</h2>
<p>Se c&#8217;è un articolo su CoseNonJaviste che è sempre in cima alla lista dei post letti è sicuramente quello sul metodo <a href="http://www.cosenonjaviste.it/come-funzionano-le-hashmap-in-java/">hashCode</a>. Il post spiega molto bene perché <code>hashCode</code> debba essere definito in modo preciso per far funzionare correttamente le mappe. Le case class di Scala fanno questo lavoro per noi liberandoci da un compito noioso, quanto ripetitivo e potenzialmente fonte di errori. </p>
<p>Anche avere a disposizione in automatico il metodo <code>toString</code> con tutte le member variable della classe è una bella comodità, se un giorno volessimo aggiungere un altro parametro non dobbiamo preoccuparci di aggiornare questo metodo. Abbiamo insomma gli stessi vantaggi che avremmo in Java se stessimo usando <a href="http://www.cosenonjaviste.it/project-lombok-per-chi-ha-le-mani-pigre/">Lombok</a>.<br />
Per completezza di spiegazione, quando stampiamo in console <code>HardDisk</code> </p>
<pre class="brush: scala; title: ; notranslate" title="">
println(&quot;Hd1: &quot; + hd1)
</pre>
<p>andiamo a ottenere questo risultato.</p>
<pre class="brush: scala; title: ; notranslate" title="">
Hd1: HardDisk(250,10)
</pre>
<h2 id="il_metodo_equals">Il metodo equals</h2>
<p>Così come per metodo <code>hashCode</code>, anche il metodo <code>equals</code> viene generato per noi componendo il risultato degli equals di ogni singolo campo. Una notazione sintattica importante soprattutto <a href="http://www.cosenonjaviste.it/tutorial-java-il-metodo-equals-e-loperatore/">arrivando da Java</a>: in Scala il metodo <code>equals</code> si può scrivere anche usando il simbolo <code>==</code>, anzi di solito si preferisce usare questa notazione, mentre per confrontare i reference dell&#8217;oggetto si usa il metodo <code>eq</code>, quindi se:</p>
<pre class="brush: scala; title: ; notranslate" title="">
val hd1 = HardDisk(250, 10)
val hd2 = HardDisk(250, 10)

println(hd1 == hd2) // true
println(hd1 eq hd2) // false
</pre>
<p>allora la prima stampa su console restituirà <code>true</code> perché i due oggetti hanno member variable uguali (nel senso di equals), mentre la seconda restituirà <code>false</code> perché abbiamo due reference diversi.</p>
<h2 id="e_il_metodo_copy">e il metodo copy?</h2>
<p>Fin qui tutto bene, queste case class sembrano proprio funzionare bene: ci risparmiano veramente un sacco di lavoro, peccato però che una volta che il nostro hard disk sia stato istanziato, di fatto non possiamo più modificarlo.  Qui ci viene in aiuto il metodo <code>copy</code>. Supponiamo di voler consumare ancora un po&#8217; di disco, quindi di voler occupare altri 50 giga di spazio, come possiamo modificare il contenuto dell&#8217;oggetto? La risposta è semplice, non possiamo! Possiamo però creare un nuovo oggetto dello stesso tipo a partire da quello che abbiamo, cambiando solamente il parametro che ci interessa con i named parameter.</p>
<pre class="brush: scala; title: ; notranslate" title="">
var hardDisk = HardDisk(250, 10)
hardDisk = hardDisk.copy(usedSpace = 60)
</pre>
<p>Non saremo un po&#8217; &#8220;spreconi&#8221; a far così? La risposta giusta è <em>nì</em>. Nel paradigma funzionale, che è una delle due anime di Scala, non esistono oggetti mutabili, ogni cambiamento viene realizzato costruendo un nuovo oggetto immutabile. Il vantaggio è che un oggetto immutabile può essere condiviso da più thread contemporaneamente senza alcun accorgimento particolare (cioè senza usare metodi sincronizzati o fare copie difensive). Questo da un lato semplifica la programmazione e dall&#8217;altro consente di aumentare il parallelismo di esecuzione. Un oggetto immutabile può inoltre essere inserito in più strutture dati contemporaneamente, quindi un&#8217;istanza di case class può essere condivisa, ad esempio, da più liste. Impieghiamo quindi più memoria da una parte, ma possiamo recuperarla dall&#8217;altra.</p>
<p>Tuttavia, siccome Scala è anche un linguaggio object-oriented, dove vogliamo garantire le prestazioni possiamo mettere da parte le case class e istanziare oggetti mutabili come abbiamo già visto nei post precedenti. In questo senso Scala ci lascia molta libertà, possiamo adottare il paradigma di programmazione che preferiamo a seconda dei casi</p>
<h2 id="alcuni_limiti">Alcuni limiti</h2>
<p>Ci sono alcuni limiti da tenere presente quando si lavora con le case class. Il primo è legato al numero dei parametri: una classe di questo tipo deve avere almeno uno parametro (almeno a partire dalla versione 2.11) ma <a href="https://issues.scala-lang.org/browse/SI-7099">non ne può avere più di 22</a>. Un&#8217;altra restrizione è legata all&#8217;ereditarietà: una case class può essere derivata da un&#8217;altra classe purché questa non sia a sua volta una case class. </p>
<h2 id="concludendo">Concludendo</h2>
<p>Abbiamo visto come le case class siano un costrutto molto compatto quanto potente. Sebbene negli esempi che abbiamo fatto ci siamo limitati a casi molto semplici, nulla vieta che la case class sia estensione di un&#8217;altra classe o che definisca altri metodi. Proprio per la loro immediatezza d&#8217;uso e per le garanzie di immutabilità queste classi sono presenti in pratica in ogni progetto scritto in Scala, in particolar modo quelli che usano il pattern matching, che vedremo prossimamente.</p>
            </div>
            <!-- end content -->

            
      <!-- metadata -->
      <div class="bwp-single-metadata-wrap bwp-no-single-share-and-counters">
        <ul class="bwp-single-metadata list-unstyled clearfix">
                      <!-- author -->
            <li>
              <span class="vcard author">
                <span class="fn">
                  <i class="fa fa-pencil-square-o"></i><a href="../author/giampaolo-trapasso/index.html" title="Posts by Giampaolo Trapasso" rel="author">Giampaolo Trapasso</a>                </span>
              </span>
              <span class="bwp-metadata-slash">/</span>
            </li>
            <!-- end author -->
                                <!-- date -->
            <li>
                            <span class="date updated">
                <i class="fa fa-clock-o"></i><a href="https://codingjam.it/2015/03/24/">24/03/2015</a>
              </span>
              <span class="bwp-metadata-slash">/</span>
            </li>
            <!-- end date -->
                                <!-- categories -->
            <li>
              <i class="fa fa-bookmark-o"></i><a href="../category/scala/index.html" rel="category tag">Scala</a>, <a href="../category/tutorial-2/index.html" rel="category tag">Tutorial</a>              <span class="bwp-metadata-slash">/</span>
            </li>
            <!-- end categories -->
                            </ul>
      </div>
      <!-- end metadata -->

      
          </div>
          <!-- end content container -->

        </article>
        <!-- end article -->

        
	<nav class="navigation post-navigation" role="navigation" aria-label="Posts">
		<h2 class="screen-reader-text">Post navigation</h2>
		<div class="nav-links"><div class="nav-previous"><a href="https://codingjam.it/json-web-token-jaas-stateless-authentication-per-tomcat/" rel="prev"><span class="meta-nav"><i class="fa fa-angle-left"></i>Previous post</span><span class="post-title-nav">JSON Web Token: JAAS stateless authentication per Tomcat</span></a></div><div class="nav-next"><a href="../lambdacon-visto-da-noi-ovvero-commenti-non-richiesti-su-unottima-conferenza/index.html" rel="next"><span class="meta-nav">Next post<i class="fa fa-angle-right"></i></span><span class="post-title-nav">LambdaCon visto da noi ovvero commenti non richiesti su un’ottima conferenza</span></a></div></div>
	</nav>
    <!-- about the author -->
    <div class="bwp-about-author-container bwp-transition-3 clearfix">
      <!-- avatar -->
      <div class="bwp-about-author-avatar">
        <a href="../author/giampaolo-trapasso/index.html">
          <img alt='' src='https://secure.gravatar.com/avatar/2fc7c345f3c40aad02aca88459b1eb4a?s=150&amp;d=mm&amp;r=g' srcset='https://secure.gravatar.com/avatar/2fc7c345f3c40aad02aca88459b1eb4a?s=300&#038;d=mm&#038;r=g 2x' class='avatar avatar-150 photo' height='150' width='150' />        </a>
      </div>
      <!-- end avatar -->
      <!-- biographical info -->
      <div class="bwp-about-author-bio-wrap">
        <h3 class="bwp-about-author-name">
          <a href="../author/giampaolo-trapasso/index.html" title="Posts by Giampaolo Trapasso" rel="author">Giampaolo Trapasso</a>          <span><i class="fa fa-angle-double-right"></i>35 Posts</span>
        </h3>
        <div class="bwp-about-author-bio">
          Sono laureato in Informatica e attualmente lavoro come Software Engineer in Databiz Srl. Mi diverto a programmare usando Java e Scala, Akka, RxJava e Cassandra. 

Qui mio modesto contributo su
<a href="http://stackoverflow.com/users/1360888/giampaolo">
StackOverflow
</a> e il mio account su <a href="https://github.com/giampaolotrapasso">GitHub</a>        </div>
                  <ul class="bwp-about-author-social list-unstyled clearfix">
                              <li><a href="http://tr4p0/" target="_blank" class="bwp-a-twitter-link"><i class="fa fa-twitter"></i></a></li>
                                  <li><a href="http://www.codingjam.it/?team=giampaolo-trapasso" target="_blank" class="bwp-a-website-link"><i class="fa fa-link"></i></a></li>
                          </ul>
              </div>
      <!-- end biographical info -->
    </div>
    <!-- end about the author -->

    
                  </div><!-- /bwp-single-content-col-wrap --></div><!-- /col-md-8 --><div class="col-md-4 bwp-sidebar-col bwp-sidebar-right">
        
                  </div><!-- /col --></div><!-- /row -->
        
      </div>
    </div>
  </section>
  <!-- end blog post - single page -->

  
<!-- footer -->
<footer id="bwp-footer-wrap">
  <div class="container">
    <div class="bwp-footer-container clearfix">

              <!-- footer text -->
        <div class="bwp-footer-text">
          CodingJam        </div>
        <!-- end footer text -->
      
              <!-- social links -->
        <ul class="bwp-footer-social-links list-unstyled clearfix">
          <li><a href="https://twitter.com/codingjam" target="_blank" class="bwp-f-twitter-link"><i class="fa fa-twitter"></i></a></li><li><a href="https://www.facebook.com/codingjamit/" target="_blank" class="bwp-f-facebook-link"><i class="fa fa-facebook"></i></a></li><li><a href="https://github.com/coding-jam" target="_blank" class="bwp-f-github-link"><i class="fa fa-github"></i></a></li>        </ul>
        <!-- end social links -->
      
    </div>
  </div>
</footer>
<!-- end footer -->

<!--googleoff: all--><div id="cookie-law-info-bar"><span>Questo sito Web utilizza i cookie per migliorare la tua esperienza. Daremo per scontato che per te sia ok, ma puoi disattivarlo se lo desideri..<a role='button' tabindex='0' data-cli_action="accept" id="cookie_action_close_header"  class="large cli-plugin-button cli-plugin-main-button cookie_action_close_header cli_action_button" style="display:inline-block; ">Accetto</a>  <a role='button' tabindex='0' id="cookie_action_close_header_reject"  class="large cli-plugin-button cli-plugin-main-button cookie_action_close_header_reject cli_action_button"  data-cli_action="reject">Annulla</a> <a href='../cookie.html' id="CONSTANT_OPEN_URL" target="_blank"  class="cli-plugin-main-link"  style="display:inline-block;" >Read More</a></span></div><div id="cookie-law-info-again" style="display:none;"><span id="cookie_hdr_showagain">Privacy & Cookies</span></div><div class="cli-modal" id="cliSettingsPopup" tabindex="-1" role="dialog" aria-labelledby="cliSettingsPopup" aria-hidden="true">
  <div class="cli-modal-dialog" role="document">
    <div class="cli-modal-content cli-bar-popup">
      <button type="button" class="cli-modal-close" id="cliModalClose">
        <svg class="" viewBox="0 0 24 24"><path d="M19 6.41l-1.41-1.41-5.59 5.59-5.59-5.59-1.41 1.41 5.59 5.59-5.59 5.59 1.41 1.41 5.59-5.59 5.59 5.59 1.41-1.41-5.59-5.59z"></path><path d="M0 0h24v24h-24z" fill="none"></path></svg>
        <span class="wt-cli-sr-only">Close</span>
      </button>
      <div class="cli-modal-body">
        <div class="cli-container-fluid cli-tab-container">
    <div class="cli-row">
        <div class="cli-col-12 cli-align-items-stretch cli-px-0">
            <div class="cli-privacy-overview">
                                                   
                <div class="cli-privacy-content">
                    <div class="cli-privacy-content-text"></div>
                </div>
                <a class="cli-privacy-readmore" data-readmore-text="Show more" data-readless-text="Show less"></a>            </div>
        </div>  
        <div class="cli-col-12 cli-align-items-stretch cli-px-0 cli-tab-section-container">
              
                            <div class="cli-tab-section">
                    <div class="cli-tab-header">
                        <a role="button" tabindex="0" class="cli-nav-link cli-settings-mobile" data-target="necessary" data-toggle="cli-toggle-tab" >
                            Necessary 
                        </a>
                    
                    <span class="cli-necessary-caption">Always Enabled</span>                     </div>
                    <div class="cli-tab-content">
                        <div class="cli-tab-pane cli-fade" data-id="necessary">
                            <p></p>
                        </div>
                    </div>
                </div>
              
                       
        </div>
    </div> 
</div> 
      </div>
    </div>
  </div>
</div>
<div class="cli-modal-backdrop cli-fade cli-settings-overlay"></div>
<div class="cli-modal-backdrop cli-fade cli-popupbar-overlay"></div>
<script type="text/javascript">
  /* <![CDATA[ */
  cli_cookiebar_settings='{"animate_speed_hide":"500","animate_speed_show":"500","background":"#fff","border":"#444","border_on":false,"button_1_button_colour":"#000","button_1_button_hover":"#000000","button_1_link_colour":"#fff","button_1_as_button":true,"button_1_new_win":false,"button_2_button_colour":"#333","button_2_button_hover":"#292929","button_2_link_colour":"#444","button_2_as_button":false,"button_2_hidebar":false,"button_3_button_colour":"#000","button_3_button_hover":"#000000","button_3_link_colour":"#fff","button_3_as_button":true,"button_3_new_win":false,"button_4_button_colour":"#000","button_4_button_hover":"#000000","button_4_link_colour":"#fff","button_4_as_button":true,"font_family":"inherit","header_fix":false,"notify_animate_hide":true,"notify_animate_show":false,"notify_div_id":"#cookie-law-info-bar","notify_position_horizontal":"right","notify_position_vertical":"bottom","scroll_close":false,"scroll_close_reload":false,"accept_close_reload":false,"reject_close_reload":false,"showagain_tab":true,"showagain_background":"#fff","showagain_border":"#000","showagain_div_id":"#cookie-law-info-again","showagain_x_position":"100px","text":"#000","show_once_yn":false,"show_once":"10000","logging_on":false,"as_popup":false,"popup_overlay":true,"bar_heading_text":"","cookie_bar_as":"banner","popup_showagain_position":"bottom-right","widget_position":"left"}';
  /* ]]> */
</script>
<!--googleon: all--><script type='text/javascript' src='../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shCore09b1.js?ver=3.0.9b'></script>
<script type='text/javascript' src='https://codingjam.it/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/scripts/shBrushScala.js?ver=3.0.9b'></script>
<script type='text/javascript'>
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore09b1.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.head.appendChild( corecss );
		var themecssurl = "../wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeEclipse09b1.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		document.head.appendChild( themecss );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = true;
	SyntaxHighlighter.defaults['tab-size'] = 2;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();

	// Infinite scroll support
	if ( typeof( jQuery ) !== 'undefined' ) {
		jQuery( function( $ ) {
			$( document.body ).on( 'post-load', function() {
				SyntaxHighlighter.highlight();
			} );
		} );
	}
</script>
<script type='text/javascript' src='../wp-content/themes/melissa/js/bootstrap.min7433.js?ver=3.3.7'></script>
<script type='text/javascript' src='../wp-content/themes/melissa/js/jquery.parallaxc358.js?ver=1.1.3'></script>
<script type='text/javascript' src='../wp-content/themes/melissa/js/superfish.min97e9.js?ver=1.7.9'></script>
<script type='text/javascript' src='../wp-content/themes/melissa/assets/owl-carousel/owl.carousel.min3ba1.js?ver=1.3.3'></script>
<script type='text/javascript' src='../wp-content/themes/melissa/assets/magnific-popup/jquery.magnific-popup.minf488.js?ver=1.1.0'></script>
<script type='text/javascript' src='../wp-content/themes/melissa/js/ie10-viewport-bug-workaround8a54.js?ver=1.0.0'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var melissaData = {"ajaxURL":"https:\/\/codingjam.it\/wp-admin\/admin-ajax.php","ajaxNonce":"1520cabb4b","templateDirectoryUri":"https:\/\/codingjam.it\/wp-content\/themes\/melissa","isMobile":"false","isSingular":"true","adminBar":"false","headerType":"simple-header","stickyNavigation":"true","isMasonry":"false","masonryColumnWidth":"","infiniteScroll":"false","iScrollLoadMoreBtn":"false","linksTarget":"_self","retinaDataAttr":"false","toTopButton":"true","iScrollLoadingMsg":"Loading new posts...","iScrollFinishedMsg":"No more posts to load","loadMoreBtnText":"Load More"};
/* ]]> */
</script>
<script type='text/javascript' src='../wp-content/themes/melissa/js/themef488.js?ver=1.1.0'></script>
<script type='text/javascript' src='../wp-content/themes/melissa/js/retina.min6f3e.js?ver=1.3.0'></script>
</body>

<!-- Mirrored from codingjam.it/scala-le-case-class/ by HTTrack Website Copier/3.x [XR&CO'2014], Sat, 05 Dec 2020 10:22:25 GMT -->
</html>