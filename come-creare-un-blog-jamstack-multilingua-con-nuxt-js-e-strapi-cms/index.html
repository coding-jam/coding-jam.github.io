<!DOCTYPE html>
<html lang="en-US">

<!-- Mirrored from codingjam.it/come-creare-un-blog-jamstack-multilingua-con-nuxt-js-e-strapi-cms/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 04 Dec 2020 23:48:37 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="profile" href="http://gmpg.org/xfn/11">
  <link rel="pingback" href="../xmlrpc.php">

  <title>Come creare un blog Jamstack multilingua con Nuxt.js e Strapi CMS &#8211; CodingJam</title>
<link rel='dns-prefetch' href='http://fonts.googleapis.com/' />
<link rel='dns-prefetch' href='http://s.w.org/' />
<link rel="alternate" type="application/rss+xml" title="CodingJam &raquo; Feed" href="../feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="CodingJam &raquo; Comments Feed" href="../comments/feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="CodingJam &raquo; Come creare un blog Jamstack multilingua con Nuxt.js e Strapi CMS Comments Feed" href="feed/index.html" />
<link rel='stylesheet' id='wp-block-library-css'  href='../wp-content/plugins/gutenberg/build/block-library/stylea4fb.css?ver=1591004795' type='text/css' media='all' />
<link rel='stylesheet' id='cookie-law-info-css'  href='../wp-content/plugins/cookie-law-info/public/css/cookie-law-info-public3cf4.css?ver=1.8.8' type='text/css' media='all' />
<link rel='stylesheet' id='cookie-law-info-gdpr-css'  href='../wp-content/plugins/cookie-law-info/public/css/cookie-law-info-gdpr3cf4.css?ver=1.8.8' type='text/css' media='all' />
<link crossorigin="anonymous" rel='stylesheet' id='melissa-google-fonts-css'  href='https://fonts.googleapis.com/css?family=Lato%3A400%2C400i%2C700%2C700i%7CNoto+Serif%3A400%2C400i%2C700%2C700i&amp;subset=latin&amp;ver=1.1.6' type='text/css' media='all' />
<link rel='stylesheet' id='bootstrap-css'  href='../wp-content/themes/melissa/css/bootstrap.min7433.css?ver=3.3.7' type='text/css' media='all' />
<link rel='stylesheet' id='bootstrap-theme-css'  href='../wp-content/themes/melissa/css/bootstrap-theme.min7433.css?ver=3.3.7' type='text/css' media='all' />
<link rel='stylesheet' id='melissa-ie10-viewport-bug-workaround-css'  href='../wp-content/themes/melissa/css/ie10-viewport-bug-workaround8a54.css?ver=1.0.0' type='text/css' media='all' />
<link rel='stylesheet' id='font-awesome-css'  href='../wp-content/themes/melissa/css/font-awesome.min1849.css?ver=4.7.0' type='text/css' media='all' />
<link rel='stylesheet' id='owl-carousel-css'  href='../wp-content/themes/melissa/assets/owl-carousel/owl.carousel3ba1.css?ver=1.3.3' type='text/css' media='all' />
<link rel='stylesheet' id='owl-theme-css'  href='../wp-content/themes/melissa/assets/owl-carousel/owl.theme3ba1.css?ver=1.3.3' type='text/css' media='all' />
<link rel='stylesheet' id='magnific-popup-css'  href='../wp-content/themes/melissa/assets/magnific-popup/magnific-popupf488.css?ver=1.1.0' type='text/css' media='all' />
<link rel='stylesheet' id='melissa-style-css'  href='../wp-content/themes/melissa/style3ec8.css?ver=1.1.6' type='text/css' media='all' />
<style id='melissa-style-inline-css' type='text/css'>

    .bwp-post-media img,
    .bwp-post-carousel-item img,
    .widget_bwp_posts_slider_item img {
      width: 100%;
      margin: 0;
    }
    .bwp-post-wrap:hover {
      margin-top: 0;
      -webkit-box-shadow: 0 4px 0 -2px rgba(46,51,64,0.1);
      -moz-box-shadow: 0 4px 0 -2px rgba(46,51,64,0.1);
      box-shadow: 0 4px 0 -2px rgba(46,51,64,0.1);
    }
    #bwp-masonry-container.no-masonry .bwp-post-wrap:hover {
      top: 0;
    }
    .bwp-no-results-container:hover,
    .bwp-single-article:hover,
    .bwp-featured-media-container:hover,
    .post-navigation .nav-links a:hover,
    .bwp-about-author-container:hover,
    .comment-respond:hover,
    .comment-body:hover,
    #comments .no-comments:hover,
    .comment-navigation .nav-links a:hover,
    .bwp-related-post-wrap:hover,
    .bwp-page-404-container:hover,
    .bwp-sidebar-wrap:hover {
      top: 0;
      -webkit-box-shadow: 0 4px 0 -2px rgba(46,51,64,0.1);
      -moz-box-shadow: 0 4px 0 -2px rgba(46,51,64,0.1);
      box-shadow: 0 4px 0 -2px rgba(46,51,64,0.1);
    }
  #bwp-header-wrap {
    background-color: #2e3340;
  }
  .bwp-header-bg-overlay,
  .bwp-header-rs-bg-overlay {
    background-color: rgba(46, 51, 64, 0.9);
  }
    .bwp-content a,
    .comment-content a,
    .bwp-post-quote a {
      color: #2052bf;
    }
</style>
<link rel='stylesheet' id='enlighter-local-css'  href='../wp-content/plugins/enlighter/resources/EnlighterJS.min9086.css?ver=3.9.0' type='text/css' media='all' />
<script type='text/javascript' src='../wp-includes/js/jquery/jquery4a5f.js?ver=1.12.4-wp'></script>
<script type='text/javascript' src='../wp-includes/js/jquery/jquery-migrate.min330a.js?ver=1.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var Cli_Data = {"nn_cookie_ids":[],"cookielist":[]};
var log_object = {"ajax_url":"https:\/\/codingjam.it\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='../wp-content/plugins/cookie-law-info/public/js/cookie-law-info-public3cf4.js?ver=1.8.8'></script>
<!--[if lt IE 9]>
<script type='text/javascript' src='https://codingjam.it/wp-content/themes/melissa/js/html5shiv.min.js?ver=3.7.3'></script>
<![endif]-->
<!--[if lt IE 9]>
<script type='text/javascript' src='https://codingjam.it/wp-content/themes/melissa/js/respond.min.js?ver=1.4.2'></script>
<![endif]-->
<script type='text/javascript' src='../wp-content/plugins/enlighter/resources/mootools-core-yc9086.js?ver=3.9.0'></script>
<script type='text/javascript' src='../wp-content/plugins/enlighter/resources/EnlighterJS.min9086.js?ver=3.9.0'></script>
<link rel='https://api.w.org/' href='../wp-json/index.html' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../xmlrpc0db0.php?rsd" />
<link rel='prev' title='Come creare un motore di rendering in JavaScript' href='../come-creare-un-motore-di-rendering-custom-in-javascript/index.html' />
<meta name="generator" content="WordPress 5.4.1" />
<link rel="canonical" href="index.html" />
<link rel='shortlink' href='../indexdc6c.html?p=18085' />
<link rel="alternate" type="application/json+oembed" href="../wp-json/oembed/1.0/embedc965.json?url=https%3A%2F%2Fcodingjam.it%2Fcome-creare-un-blog-jamstack-multilingua-con-nuxt-js-e-strapi-cms%2F" />
<link rel="alternate" type="text/xml+oembed" href="../wp-json/oembed/1.0/embed5b21?url=https%3A%2F%2Fcodingjam.it%2Fcome-creare-un-blog-jamstack-multilingua-con-nuxt-js-e-strapi-cms%2F&amp;format=xml" />
<link rel="amphtml" href="amp/index.html"><script type="text/javascript">/* <![CDATA[ */EnlighterJS_Config = {"selector":{"block":"pre.EnlighterJSRAW","inline":"code.EnlighterJSRAW"},"language":"generic","theme":"droide","indent":2,"hover":"hoverEnabled","showLinenumbers":true,"rawButton":true,"infoButton":false,"windowButton":false,"rawcodeDoubleclick":false,"grouping":true,"cryptex":{"enabled":false,"email":"mail@example.tld"}};!function(){var a=function(a){var b="Enlighter Error: ";console.error?console.error(b+a):console.log&&console.log(b+a)};return window.addEvent?"undefined"==typeof EnlighterJS?void a("Javascript Resources not loaded yet!"):"undefined"==typeof EnlighterJS_Config?void a("Configuration not loaded yet!"):void window.addEvent("domready",function(){EnlighterJS.Util.Init(EnlighterJS_Config.selector.block,EnlighterJS_Config.selector.inline,EnlighterJS_Config)}):void a("MooTools Framework not loaded yet!")}();;/* ]]> */</script><link rel="icon" href="../wp-content/uploads/2018/09/cropped-codingjam-jar-transp-white-big-512-32x32.png" sizes="32x32" />
<link rel="icon" href="../wp-content/uploads/2018/09/cropped-codingjam-jar-transp-white-big-512-192x192.png" sizes="192x192" />
<link rel="apple-touch-icon" href="../wp-content/uploads/2018/09/cropped-codingjam-jar-transp-white-big-512-180x180.png" />
<meta name="msapplication-TileImage" content="https://codingjam.it/wp-content/uploads/2018/09/cropped-codingjam-jar-transp-white-big-512-270x270.png" />
</head>

<body class="post-template-default single single-post postid-18085 single-format-standard wp-custom-logo">


<!-- header -->
<header id="bwp-header-wrap" class="bwp-header-simple">

  <!-- header bg -->
    <div class="bwp-header-bg" style="background: url(../wp-content/uploads/2017/07/cropped-P6261835_2.jpg) 50% 0 no-repeat">
    <div class="bwp-header-bg-overlay"></div>

    <!-- header content -->
    <div class="container">
      <div class="bwp-header-content-container">

        <!-- row 1 - logo + navigation -->
        <div class="bwp-main-navigation-container clearfix">

          
        <!-- image logo -->
        <div class="bwp-logo-container">
          <a href="../index.html" class="custom-logo-link" rel="home"><img width="207" height="70" src="../wp-content/uploads/2018/09/cropped-logo-cnj-bianco.png" class="custom-logo" alt="CodingJam" srcset="https://codingjam.it/wp-content/uploads/2018/09/cropped-logo-cnj-bianco.png 207w, https://codingjam.it/wp-content/uploads/2018/09/cropped-logo-cnj-bianco-150x51.png 150w" sizes="(max-width: 207px) 100vw, 207px" /></a>        </div>
        <!-- end image logo -->

        
      <!-- search -->
      <div class="bwp-header-search-container hidden-sm hidden-xs">
        <a href="#" id="bwp-header-search-icon">
          <i class="fa fa-search"></i>
        </a>
        <div class="bwp-dropdown-search-container bwp-search-hidden">
          
<!-- search form -->
<form id="searchform" role="search" method="get" action="https://codingjam.it/">
  <div class="input-group">
    <input type="text" name="s" id="s" class="bwp-search-field form-control" placeholder="Enter your search query...">
    <span class="input-group-btn">
      <button type="submit" class="btn bwp-search-submit">
        <i class="fa fa-search"></i>
      </button>
    </span>
  </div>
</form>
<!-- end search form -->
        </div>
      </div>
      <!-- end search -->

      
      <!-- menu -->
      <div class="bwp-menu-container hidden-sm hidden-xs">
        <nav class="menu-menu-navigation-2-container"><ul id="menu-menu-navigation-2" class="sf-menu"><li id="menu-item-12007" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12007"><a href="#">Programmazione</a>
<ul class="sub-menu">
	<li id="menu-item-12022" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12022"><a href="../category/java/index.html">Java</a></li>
	<li id="menu-item-12009" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12009"><a href="../category/java/java-8/index.html">Java 8</a></li>
	<li id="menu-item-12020" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12020"><a href="../category/rxjava/index.html">RxJava</a></li>
	<li id="menu-item-12017" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12017"><a href="../category/scala/index.html">Scala</a></li>
</ul>
</li>
<li id="menu-item-12006" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12006"><a href="../category/agile/index.html">Agile</a></li>
<li id="menu-item-12005" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12005"><a href="../category/android/index.html">Android</a></li>
<li id="menu-item-12008" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12008"><a href="#">Web</a>
<ul class="sub-menu">
	<li id="menu-item-12014" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12014"><a href="../category/angularjs/index.html">AngularJS</a></li>
	<li id="menu-item-12012" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12012"><a href="../category/ejb/index.html">EJB</a></li>
	<li id="menu-item-12010" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12010"><a href="../category/javascript/index.html">Javascript</a></li>
	<li id="menu-item-12021" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12021"><a href="../category/application-server/jboss/index.html">JBoss</a></li>
	<li id="menu-item-12016" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12016"><a href="../category/jsf/index.html">JSF</a></li>
	<li id="menu-item-12015" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12015"><a href="../category/jquery-2/index.html">jQuery</a></li>
	<li id="menu-item-12019" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12019"><a href="../category/spring-2/index.html">Spring</a></li>
	<li id="menu-item-12018" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12018"><a href="../category/application-server/websphere/index.html">Websphere</a></li>
</ul>
</li>
</ul></nav>      </div>
      <!-- end menu -->

      
      <!-- mobile menu -->
      <div class="bwp-mobile-menu-container hidden-md hidden-lg">
        <!-- mobile menu icon -->
        <a href="#" id="bwp-mobile-menu-icon">
          <i class="fa fa-bars"></i>
        </a>
        <!-- end mobile menu icon -->
        <!-- dropdown mobile menu -->
        <div class="bwp-dropdown-mobile-menu bwp-mobile-menu-hidden">
          <nav class="menu-menu-navigation-2-container"><ul id="menu-menu-navigation-3" class="bwp-mobile-menu list-unstyled"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12007"><a href="#">Programmazione</a>
<ul class="sub-menu">
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12022"><a href="../category/java/index.html">Java</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12009"><a href="../category/java/java-8/index.html">Java 8</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12020"><a href="../category/rxjava/index.html">RxJava</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12017"><a href="../category/scala/index.html">Scala</a></li>
</ul>
</li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12006"><a href="../category/agile/index.html">Agile</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12005"><a href="../category/android/index.html">Android</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12008"><a href="#">Web</a>
<ul class="sub-menu">
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12014"><a href="../category/angularjs/index.html">AngularJS</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12012"><a href="../category/ejb/index.html">EJB</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12010"><a href="../category/javascript/index.html">Javascript</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12021"><a href="../category/application-server/jboss/index.html">JBoss</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12016"><a href="../category/jsf/index.html">JSF</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12015"><a href="../category/jquery-2/index.html">jQuery</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12019"><a href="../category/spring-2/index.html">Spring</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12018"><a href="../category/application-server/websphere/index.html">Websphere</a></li>
</ul>
</li>
</ul></nav>        </div>
        <!-- end dropdown mobile menu -->
      </div>
      <!-- end mobile menu -->

      
        </div>
        <!-- end row 1 - logo + navigation -->

        
          <!-- row 2 - header custom text -->
          <div class="bwp-header-custom-text-container">
            
        <!-- custom text - single page -->
        <h1 class="bwp-header-custom-title entry-title">
          Come creare un blog Jamstack multilingua con Nuxt.js e Strapi CMS        </h1>
                <div class="bwp-header-transparent-line clearfix">
          <span class="bwp-header-t-line-1"></span>
          <span class="bwp-header-t-line-2"></span>
        </div>
        <!-- end custom text -->

                  </div>
          <!-- end row 2 - header custom text -->

          
      </div>
    </div>
    <!-- end header content -->
  </div>
  <!-- end header bg -->

  
        <!-- sticky navigation -->
        <div class="bwp-sticky-navigation-wrap bwp-transition-4 clearfix">
          <!-- sticky navigation icon -->
          <a href="#" id="bwp-sticky-navigation-icon">
            <i class="fa fa-bars"></i>
          </a>
          <!-- end sticky navigation icon -->
          <!-- sticky navigation container -->
          <div class="bwp-sticky-navigation-container bwp-sticky-navigation-hidden">
            <nav class="menu-menu-navigation-2-container"><ul id="menu-menu-navigation-4" class="sf-menu"><li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12007"><a href="#">Programmazione</a>
<ul class="sub-menu">
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12022"><a href="../category/java/index.html">Java</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12009"><a href="../category/java/java-8/index.html">Java 8</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12020"><a href="../category/rxjava/index.html">RxJava</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12017"><a href="../category/scala/index.html">Scala</a></li>
</ul>
</li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12006"><a href="../category/agile/index.html">Agile</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12005"><a href="../category/android/index.html">Android</a></li>
<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12008"><a href="#">Web</a>
<ul class="sub-menu">
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12014"><a href="../category/angularjs/index.html">AngularJS</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12012"><a href="../category/ejb/index.html">EJB</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12010"><a href="../category/javascript/index.html">Javascript</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12021"><a href="../category/application-server/jboss/index.html">JBoss</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12016"><a href="../category/jsf/index.html">JSF</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12015"><a href="../category/jquery-2/index.html">jQuery</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12019"><a href="../category/spring-2/index.html">Spring</a></li>
	<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-12018"><a href="../category/application-server/websphere/index.html">Websphere</a></li>
</ul>
</li>
</ul></nav>          </div>
          <!-- end sticky navigation container -->
        </div>
        <!-- end sticky navigation -->

        
</header>
<!-- end header -->

  <!-- blog post - single page -->
  <section id="bwp-single-page-wrap">
    <div class="container">
      <div class="bwp-single-page-container" >

        
                  <div class="row"><div class="col-md-8 bwp-single-content-col bwp-sidebar-right"><div class="bwp-single-content-col-wrap" role="main">
        
        <!-- article -->
        <article id="post-18085" class="bwp-single-article bwp-transition-3">

          
          <!-- content container -->
          <div class="bwp-single-content">

            <!-- content -->
            <div class="bwp-content entry-content clearfix">
              
<p><a href="https://jamstack.org/">Jamstack</a> (Javascript, API e Markup Stack) è una terminologia che ruota attorno a un nuovo modo di fare progetti web dove non c&#8217;è bisogno di un backend che builda la pagina ad ogni richiesta ma renderizza tutte le pagine in maniera statica al momento della build e fa il deploy su una Content Delivery Network (CDN). Questo approccio porta ad una maggior sicurezza, ad una grande scalabilità, una riduzione dei costi di hosting e un grande boost delle performance.</p>



<p>In questo tutorial imparerai a costruire un blog multilingua con l&#8217;approccio Jamstack utilizzando&nbsp;<a href="https://nuxtjs.org/">Nuxt.js</a>, un potente framework basato su Vue.js che supporta le modalità di rendering SPA, SSR e la generazione statica e un CMS Headless,&nbsp;<a href="https://strapi.io/">Strapi</a>, per memorizzare gli articoli e servirli tramite GraphQL. Per il setup di locale di Strapi puoi seguire&nbsp;<a href="https://strapi.io/documentation/3.0.0-beta.x/installation/cli.html">questa guida</a>&nbsp;altrimenti puoi tranquillamente utilizzare la nostra istanza in sola lettura&nbsp;<a href="https://strapi.lotrek.net/">https://strapi.lotrek.net/</a>.</p>



<p>Il codice di questo tutorial è disponibile in&nbsp;<a href="https://github.com/astagi/nuxt-strapi-i18n">questo repository</a>.</p>



<h2>La struttura del backend Strapi</h2>



<p>Con Strapi abbiamo predisposto una struttura piuttosto banale per memorizzare i nostri&nbsp;<code>Post</code>&nbsp;che contengono una referenza 1 a molti con gli elementi&nbsp;<code>TransPost</code>&nbsp;dove avviene l&#8217;effettiva traduzione<br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="md" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">       ____________                        ____________
      |    POST    |                      | TRANS_POST |
       ============                        ============
      | published  |                      | language   |
      | created_at | &lt;--(1)-------(N)-->> | title      |
      |            |                      | content    |
      |            |                      | slug       |
       ============                        ============
</pre>



<p>Se vuoi già giocare un po&#8217; con questo schema ed esplorare la composizione dei dati puoi andare sul&nbsp;<a href="https://strapi.lotrek.net/graphql">GraphQL playground</a>. Ricorda però che il focus principale di questo tutorial è&nbsp;<code>Nuxt.js</code>, quindi ometteremo eventuali approfondimenti del backend. Inoltre grazie alla versatilità di questo framework puoi utilizza qualsiasi backend, anche WordPress.</p>



<h2>Setup del progetto con Nuxt.js</h2>



<p>Per cominciare assicurati di avere un ambiente con&nbsp;<code>Node.js</code>&nbsp;installato almeno alla&nbsp;<code>versione 12</code>.<br>Installa&nbsp;<code>Nuxt.js</code>&nbsp;globalmente e crea una nuova app chiamata&nbsp;<code>multilangblog</code><br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">npx create-nuxt-app multilangblog</pre>



<p>Ricorda di selezionare l&#8217;opzione&nbsp;<code>axios</code>&nbsp;(sarà necessario in seguito) e aggiungi un framework UI come&nbsp;<a href="https://buefy.org/">Buefy</a>.</p>



<h2>Crea un client per leggere gli articoli</h2>



<p>Installa&nbsp;<code>apollo-fetch</code>&nbsp;per interrogare il nostro server Strapi con GraphQL<br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">yarn add apollo-fetch</pre>



<p>dopodiché crea un file&nbsp;<code>index.js</code>&nbsp;nella cartella&nbsp;<code>services</code>&nbsp;per wrappare tutte le richieste. Questo client implementerà 3 metodi:</p>



<ul><li><code>getAllPostsHead</code>: prende tutti i post in uno specifico linguaggio, mostrando gli attributi <code>slug</code> e <code>title</code>.</li><li><code>getAllPosts</code>: prende tutti i post in uno specifico linguaggio, mostrando gli attributi <code>slug</code>, <code>title</code>, <code>content</code> e gli articoli nelle altre lingue per riprendere lo slug tradotto.</li><li><code>getSinglePost</code>: prende un singolo post specificando lingua e slug con tutti gli attributi, e gli articoli nelle altre lingue per riprendere lo slug tradotto..</li></ul>



<pre class="EnlighterJSRAW" data-enlighter-language="js" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">import { createApolloFetch } from 'apollo-fetch'

export default class BlogClient {
  constructor () {
    this.apolloFetch = createApolloFetch({ uri: `${process.env.NUXT_ENV_BACKEND_URL}/graphql` })
  }

  getAllPostsHead (lang) {
    const allPostsQuery = `
      query AllPosts($lang: String!) {
        transPosts(where: {lang: $lang}) {
          slug
          title
        }
      }
    `
    return this.apolloFetch({
      query: allPostsQuery,
      variables: {
        lang
      }
    })
  }

  getAllPosts (lang) {
    const allPostsQuery = `
      query AllPosts($lang: String!) {
        transPosts(where: {lang: $lang}) {
          slug
          title
          content
          post {
            published
            transPosts(where: {lang_ne: $lang}) {
              slug
              lang
            }
          }
        }
      }
    `
    return this.apolloFetch({
      query: allPostsQuery,
      variables: {
        lang
      }
    })
  }

  getSinglePost (slug, lang) {
    const simplePostQuery = `
      query Post($slug: String!, $lang: String!) {
        transPosts(where: {slug : $slug, lang: $lang}) {
          slug
          title
          content
          post {
            published
            transPosts(where: {lang_ne: $lang}) {
              slug
              lang
            }
          }
        }
      }
    `
    return this.apolloFetch({
      query: simplePostQuery,
      variables: {
        slug,
        lang
      }
    })
  }
}</pre>



<p>Per far sì che&nbsp;<code>BlogClient</code>&nbsp;sia accessibile ovunque noi utilizziamo il&nbsp;<code>context</code>&nbsp;(ad esempio nella funzione&nbsp;<code>asyncData</code>) crea il file&nbsp;<code>plugins/ctx-inject.js</code><br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="js" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">import BlogClient from '~/services'

export default ({ app }, inject) => {
  app.$blogClient = new BlogClient()
}</pre>



<p>e aggiungilo alla sezione&nbsp;<code>plugins</code>&nbsp;nel file&nbsp;<code>nuxt.config.js</code><br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="js" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">export default {
  // ...
  plugins: ['~/plugins/ctx-inject.js']
}</pre>



<h2>La view principale</h2>



<p>La struttura finale di questo blog sarà piuttosto semplice, nella homepage (<code>/</code>) ci sarà una lista di articoli con il relativo link (<code>/blog/&lt;postslug&gt;</code>). Adesso che il&nbsp;<code>BlogClient</code>&nbsp;è accessibile dal context, riscrivi il componente&nbsp;<code>HomePage</code>&nbsp;(<code>pages/index.vue</code>) per prendere tutti gli articoli nel metodo&nbsp;<a href="https://nuxtjs.org/guide/async-data">asyncData</a>&nbsp;e renderizza titolo e link per ogni articolo. Il metodo&nbsp;<code>asyncData</code>&nbsp;riceve il&nbsp;<a href="https://nuxtjs.org/api/context">context</a>&nbsp;come primo argomento e grazie al nostro plugin scritto nel paragrafo precedente,&nbsp;<code>BlogClient</code>&nbsp;sarà accessibile attraverso&nbsp;<code>context.app.$blogClient</code><br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="html" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">&lt;template>
  &lt;section class="section">
    &lt;div class="is-mobile">
      &lt;div v-for="post in posts" :key="post.slug">
        &lt;h2>{{ post.title }}&lt;/h2>
        &lt;nuxt-link :to="{name: 'blog-slug', params:{slug: post.slug}}">Read more...&lt;/nuxt-link>
      &lt;/div>
    &lt;/div>
  &lt;/section>
&lt;/template>

&lt;script>
export default {
  name: 'HomePage',
  async asyncData ({ app }) {
    const postsData = await app.$blogClient.getAllPostsHead('en')
    return { posts: postsData.data.transPosts }
  },
  data () {
    return {
      posts: []
    }
  }
}
&lt;/script></pre>



<p>Aggiungi la route <code>/blog/&lt;postslug></code> creando il componente <code>BlogPost</code> (<code>pages/blog/_slug.vue</code>). Installa il componente <a href="https://github.com/miaolz123/vue-markdown">Vue Markdown</a> per renderizzare gli articoli correttamente, visto che il contenuto dei post da Strapi arriva in formato Markdown (<code>yarn add vue-markdown</code>)<br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="html" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">&lt;template>
  &lt;section class="section">
    &lt;div class="is-mobile">
      &lt;h2>{{ post.title }}&lt;/h2>
      &lt;vue-markdown>{{ post.content }}&lt;/vue-markdown>
    &lt;/div>
  &lt;/section>
&lt;/template>

&lt;script>
export default {
  name: 'BlogPost',
  components: {
    'vue-markdown': VueMarkdown
  },
  async asyncData ({ app, route }) {
    const postsData = await app.$blogClient.getSinglePost(route.params.slug, 'en')
    return { post: postsData.data.transPosts[0] }
  },
  data () {
    return {
      post: null
    }
  }
}
&lt;/script></pre>



<h2>Aggiungiamo le lingue</h2>



<p>Per aggiungere il supporto all&#8217;internazionalizzazione (<code>i18n</code>) installa il modulo&nbsp;<a href="https://nuxt-community.github.io/nuxt-i18n/basic-usage.html">Nuxt i18n</a><br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">yarn add nuxt-i18n</pre>



<p>Abilitalo nella sezione&nbsp;<code>module</code>&nbsp;del file&nbsp;<code>nuxt.config.js</code><br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="js" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">{
  modules: ['nuxt-i18n']
}</pre>



<p>e configura la sezione&nbsp;<code>i18n</code><br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="js" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">const LOCALES = [
  {
    code: 'en',
    iso: 'en-US'
  },
  {
    code: 'es',
    iso: 'es-ES'
  },
  {
    code: 'it',
    iso: 'it-IT'
  }
]
const DEFAULT_LOCALE = 'en'

export default {
  // ...
  i18n: {
    locales: LOCALES,
    defaultLocale: DEFAULT_LOCALE,
    encodePaths: false,
    vueI18n: {
      fallbackLocale: DEFAULT_LOCALE,
      messages: {
        en: {
          readmore: 'Read more'
        },
        es: {
          readmore: 'Lee mas'
        },
        it: {
          readmore: 'Leggi di più'
        }
      }
    }
  }
  // ...
}</pre>



<p>Adesso puoi modificare il componente&nbsp;<code>HomePage</code>: negli elementi&nbsp;<code>nuxt-link</code>&nbsp;devi usare il metodo&nbsp;<code>localePath</code>&nbsp;e renderizzare la label&nbsp;<code>readmore</code>&nbsp;usando la funzione&nbsp;<code>$t</code><br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="html" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">&lt;nuxt-link :to="localePath({name: 'blog-slug', params:{slug: post.slug}})">{{ $t('readmore') }}&lt;/nuxt-link></pre>



<p>Nella funzione&nbsp;<code>asyncData</code>&nbsp;puoi richiamare il metodo&nbsp;<code>getAllPostsHead</code>&nbsp;del nostro client, prendendo il linguaggio corrente dalla variabile&nbsp;<code>store.$i18n</code>&nbsp;del&nbsp;<code>context</code><br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="js" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">// ....
async asyncData ({ app, store }) {
  const postsData = await app.$blogClient.getAllPostsHead(
    store.$i18n.locale
  )
  return { posts: postsData.data.transPosts }
},
// ....</pre>



<p>Fai la stessa cosa nel componente&nbsp;<code>BlogPost</code>&nbsp;usando&nbsp;<code>route.params.slug</code>&nbsp;per riprendere lo slug<br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="js" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">// ....
async asyncData ({ app, route, store }) {
  const postsData = await app.$blogClient.getSinglePost(
    route.params.slug, store.$i18n.locale
  )
  return { post: postsData.data.transPosts[0] }
},
// ....</pre>



<p>Adesso possiamo cominciare a creare un elemento fondamentale per un blog multilingua come si deve, il&nbsp;<code>LanguageSwitcher</code>&nbsp;(<code>components/LanguageSwitcher.vue</code>) che come si evince dal nome servirà per cambiare la lingua in ogni parte del sito.<br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="html" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">&lt;template>
  &lt;b-navbar-dropdown :label="$i18n.locale">
    &lt;nuxt-link v-for="locale in availableLocales" :key="locale.code" class="navbar-item" :to="switchLocalePath(locale.code)">
      {{ locale.code }}
    &lt;/nuxt-link>
  &lt;/b-navbar-dropdown>
&lt;/template>

&lt;script>
export default {
  computed: {
    availableLocales () {
      return this.$i18n.locales.filter(locale => locale.code !== this.$i18n.locale)
    }
  }
}
&lt;/script></pre>



<p>Questo componente deve essere incluso in&nbsp;<code>layouts/default.vue</code>&nbsp;per renderlo disponibile sulla barra di navigazione. Il codice è molto semplice, grazie al modulo i18n di Nuxt basterà chiamare la funzione&nbsp;<code>switchLocalePath</code>&nbsp;per prendere il link della pagina nelle altre lingue. Per far sì che anche i parametri dinamici della url come ad esempio lo&nbsp;<code>slug</code>&nbsp;vengano passati al nostro&nbsp;<code>LanguageSwitcher</code>&nbsp;è sufficente utilizzare la funzione&nbsp;<a href="https://nuxt-community.github.io/nuxt-i18n/lang-switcher.html#dynamic-route-parameters">store.dispatch</a>&nbsp;nel nostro componente&nbsp;<code>BlogPost</code><br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="js" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">//...
async asyncData ({ app, route, store }) {
  const postsData = await app.$blogClient.getSinglePost(
    route.params.slug, store.$i18n.locale
  )
  await store.dispatch(
    'i18n/setRouteParams',
    Object.fromEntries(postsData.data.transPosts[0].post.transPosts.map(
      el => [el.lang, { slug: el.slug }])
    )
  )
  return { post: postsData.data.transPosts[0] }
},
//...</pre>



<p><a href="https://nuxt-community.github.io/nuxt-i18n/lang-switcher.html">Un po&#8217; di info in più sul language switcher</a></p>



<p>Ricorda di settare la variabile di ambiente&nbsp;<code>NUXT_ENV_BACKEND_URL</code>&nbsp;usata dal&nbsp;<code>BlogClient</code>&nbsp;con .env o direttamente (<code>export NUXT_ENV_BACKEND_URL=https://strapi.lotrek.net</code>) e lancia il tutto in modalità sviluppo con<br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">yarn dev</pre>



<h2>La generazione statica</h2>



<p>Per generare staticamente il nostro blog multilingua lancia<br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">yarn generate
</pre>



<p>Il risultato finale sarà una lista di tutte le route generate all&#8217;interno della cartella&nbsp;<code>dist</code>&nbsp;nella root del progetto<br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">&#x2139; Generating pages
&#x2714; Generated /it/
&#x2714; Generated /es/
&#x2714; Generated /
&#x2728;  Done in 43.49s.</pre>



<p>come si può vedere tutte le route dinamiche non vengono generate, questo perchè Nuxt.js semplicemente non le conosce. Per aggiungere il supporto alla generazione delle route dinamiche è necessario implementare il metodo&nbsp;<code>routes</code>&nbsp;all&#8217;interno della sezione&nbsp;<code>generate</code>&nbsp;nel file&nbsp;<code>nuxt.config.js</code>&nbsp;e ritornare una lista di oggetti contenenti la&nbsp;<code>route</code>&nbsp;che si vuol generare e il&nbsp;<code>payload</code>&nbsp;contenente il post.<br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="js" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">import BlogClient from './services'

// ...

export default {
  // ...
  generate: {
    routes: async () => {
      const client = new BlogClient()
      let routes = []
      let postsData = []
      for (const locale of LOCALES) {
        postsData = await client.getAllPosts(locale.code)
        routes = routes.concat(postsData.data.transPosts.map((post) => {
          return {
            route: `${locale.code === DEFAULT_LOCALE ? '' : '/' + locale.code}/blog/${post.slug}`,
            payload: post
          }
        }))
      }
      return routes
    }
  }
  //...
}</pre>



<p>Dato che il&nbsp;<code>payload</code>&nbsp;è disponibile nel&nbsp;<code>context</code>, si può fare refactor di asyncData nel componente&nbsp;<code>BlogPost</code>&nbsp;per prendere l&#8217;articolo direttamente&nbsp;<code>context.payload</code><br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="js" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">const getSinglePostFromContext = async ({ app, route, store, payload }) => {
  if (payload) {
    return payload
  }
  const postsData = await app.$blogClient.getSinglePost(
    route.params.slug, store.$i18n.locale
  )
  return postsData.data.transPosts[0]
}

export default {
  name: 'BlogPost',
  async asyncData (context) {
    const singlePost = await getSinglePostFromContext(context)
    await context.store.dispatch(
      'i18n/setRouteParams',
      Object.fromEntries(singlePost.post.transPosts.map(
        el => [el.lang, { slug: el.slug }])
      )
    )
    return { post: singlePost }
  },
  // ...
}</pre>



<p>Lancia&nbsp;<code>yarn generate</code>&nbsp;di nuovo<br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">&#x2139; Generating pages
&#x2714; Generated /it/
&#x2714; Generated /es/
&#x2714; Generated /
&#x2714; Generated /blog/hello-world
&#x2714; Generated /it/blog/ciao-mondo
&#x2728;  Done in 33.82s.</pre>



<p>Adesso Nuxt.js riesce a generere anche le route dinamiche</p>



<p>Puoi testare il sito generato staticamente utilizzando&nbsp;<a href="https://www.npmjs.com/package/http-server">http-server</a>, lanciandolo con<br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">http-server ./dist</pre>



<p>Dopo aver effettuato la generazione statica, un problema che si nota è che <code>asyncData</code> viene chiamata ogni volta durante la navigazione, il che comporta che un server che espone i contenuti attraverso la sua API come se il nostro Strapi debba sempre essere online altrimenti apparirà l&#8217;errore &#8220;Failed to fetch&#8221;. Questo problema è noto al team di Nuxt.js che sta lavorando per supportare <a href="https://github.com/nuxt/rfcs/issues/22">l&#8217;opzione di full static generation</a> nella prossima versione. Per ovviare a questo problema per adesso si può usare il plugin <a href="https://github.com/DreaMinder/nuxt-payload-extractor">nuxt-payload-extractor</a> come suggerito dallo stesso team di Nuxt.js. Una volta installato con<br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">yarn add nuxt-payload-extractor</pre>



<p>aggiungi il modulo in&nbsp;<code>nuxt.config.js</code><br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="js" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">{
  modules: [
    // ...
    'nuxt-payload-extractor'
  ]
}</pre>



<p>il codice finale di&nbsp;<code>getSinglePostFromContext</code>&nbsp;sarà<br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="js" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">const getSinglePostFromContext = async ({ $axios, $payloadURL, app, route, store, payload }) => {
  if (payload) {
    return payload
  }
  let postsData = null
  if (process.static &amp;&amp; process.client &amp;&amp; $payloadURL) {
    postsData = await $axios.$get($payloadURL(route))
    return postsData.post
  }
  postsData = await app.$blogClient.getSinglePost(
    route.params.slug, store.$i18n.locale
  )
  return postsData.data.transPosts[0]
}</pre>



<p>Ovviamente è necessario aggiungere il <code>nuxt-payload-extractor</code> laddove si recuperano i dati, quindi anche in <code>HomePage</code><br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="js" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">async asyncData ({ $axios, $payloadURL, app, route, store }) {
  if (process.static &amp;&amp; process.client &amp;&amp; $payloadURL) {
    return await $axios.$get($payloadURL(route))
  }
  const postsData = await app.$blogClient.getAllPostsHead(
    store.$i18n.locale
  )
  return { posts: postsData.data.transPosts }
}</pre>



<p>Rigenerando il sito, la funzione asyncData non va più a chiedere i dati al server ma attraverso il payload estratto dal plugin.</p>



<h2>Aggiungere un supporto alle custom path</h2>



<p>A volte capita che occorra fornire delle custom path per le route dinamiche in un multilingua. Ad esempio, per la lingua inglese la url <code>/blog/:slug</code>, ma per lo spagnolo <code>/artículos/:slug</code> e magari per l&#8217;italiano <code>/articoli/:slug</code>. Seguendo la documentazione di nuxt-i18n bisogna specificare queste route nella sezione <code>i18n</code> in <code>nuxt.config.js</code><br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="js" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">i18n {
  // ...
  parsePages: false,
  pages: {
    'blog/_slug': {
      it: '/articoli/:slug',
      es: '/artículos/:slug',
      en: '/blog/:slug'
    }
  },
  // ...
}</pre>



<p>Consiglio di spostare tutte le custom path in un file separato&nbsp;<code>i18n.config.js</code>&nbsp;per renderle disponibili poi nella funzione&nbsp;<code>generate</code>&nbsp;e nella sezione&nbsp;<code>i18n</code><br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="js" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">export default {
  pages: {
    'blog/_slug': {
      it: '/articoli/:slug',
      es: '/artículos/:slug',
      en: '/blog/:slug'
    }
  }
}</pre>



<p>e importare questo file quindi in&nbsp;<code>nuxt.config.js</code><br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="js" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">import i18nConfig from './i18n.config'

// ...

export default {
  // ...
  i18n: {
    locales: LOCALES,
    defaultLocale: DEFAULT_LOCALE,
    parsePages: false,
    pages: i18nConfig.pages,
    encodePaths: false,
    vueI18n: {
      fallbackLocale: DEFAULT_LOCALE,
      // ...
    }
  },
  // ...</pre>



<p>Ovviamente a questo punto occorre riscrivere la funzione <code>generate</code> e prendere la giusta custom path a seconda della lingua (per semplicità ho fatto una semplice replace)<br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="js" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">routes: async () => {
  const client = new BlogClient()
  let routes = []
  let postsData = []
  for (const locale of LOCALES) {
    postsData = await client.getAllPosts(locale.code)
    routes = routes.concat(postsData.data.transPosts.map((post) => {
      return {
        route: `${locale.code === DEFAULT_LOCALE ? '' : '/' + locale.code}${i18nConfig.pages['blog/_slug'][locale.code].replace(':slug', post.slug)}`,
        payload: post
      }
    }))
  }
  return routes
}</pre>



<p>Prova a lanciare&nbsp;<code>yarn generate</code>&nbsp;di nuovo<br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="generic" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">&#x2139; Generating pages
&#x2714; Generated /blog/hello-world
&#x2714; Generated /it/articoli/ciao-mondo
&#x2714; Generated /es/artículos/hola-mundo
&#x2714; Generated /es/
&#x2714; Generated /it/
&#x2714; Generated /
&#x2728;  Done in 33.82s.</pre>



<p>come vedi le path vengono generate nella maniera corretta per tutte e 3 le lingue</p>



<h2>Il codice finale</h2>



<p>In <a href="https://github.com/astagi/nuxt-strapi-i18n">questo repository</a> trovi il codice completo di questo tutorial, il risultato è pubblicato su <a href="https://www.netlify.com/">Netlify CDN</a> all&#8217;indirizzo <a href="https://eager-shockley-a415b7.netlify.app/">https://eager-shockley-a415b7.netlify.app/</a>. Netlify è uno dei miei servizi preferiti che fornisce cloud hosting per i siti statici, offrendo la funzione di continuous deployment, certificati SSL free, funzioni serverless e tanto altro&#8230; Il codice finale aggiunge un po&#8217; di cose rispetto al tutorial, per esempio mostra gli autori dei post, fa uso di qualche componente esterno che per semplicità qua è stato omesso e abilita la SEO per aggiungere i metadata necessari alle pagine (vedi la sezione <a href="https://nuxt-community.github.io/nuxt-i18n/seo.html">SEO nella documentazione di nuxt-18n</a>).</p>



<p>Un&#8217;altra cosa molto utile aggiunta nel codice finale è la sitemap, fornita dal modulo <a href="https://github.com/nuxt-community/sitemap-module">Nuxt.js Sitemap</a>. Il setup della sitemap è facile perché di default già usa la funzione di <code>generate.routes</code>, perciò tutte le url comprese quelle dinamiche sono automaticamente incluse nella sitemap. La configurazione è altrettanto semplice, basta aggiungere <code>@nuxtjs/sitemap</code> alla fine dell&#8217;array della sezione <code>modules</code> in<code>nuxt.config.js</code><br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="js" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">  {
    modules: [
      // ...
      '@nuxtjs/sitemap'
    ],
  }</pre>



<p>e configurare la sezione&nbsp;<code>sitemap</code><br></p>



<pre class="EnlighterJSRAW" data-enlighter-language="js" data-enlighter-theme="" data-enlighter-highlight="" data-enlighter-linenumbers="" data-enlighter-lineoffset="" data-enlighter-title="" data-enlighter-group="">export default {
  // ...
  sitemap: {
    hostname: BASE_URL,
    gzip: true,
    i18n: DEFAULT_LOCALE
  }
  // ...
}</pre>



<p>Ci sono veramente tanti moduli e progetti nell&#8217;organizzazione&nbsp;<a href="https://github.com/nuxt-community">Nuxt Community su Github</a>&nbsp;consiglio di farci un giro!</p>



<p>Happy coding!</p>
            </div>
            <!-- end content -->

            
                <!-- social sharing buttons / counters -->
                <div class="row">
                  <div class="col-md-7">
                    
    <!-- social sharing buttons -->
    <div class="bwp-single-share-wrap">
      <span>Share:</span>
      <ul class="bwp-single-share list-unstyled">
        <!-- facebook -->
        <li>
          <a rel="nofollow" onclick="window.open('http://www.facebook.com/sharer.php?u=https://codingjam.it/come-creare-un-blog-jamstack-multilingua-con-nuxt-js-e-strapi-cms/', 'Facebook', 'width=600, height=300, left='+(screen.availWidth/2-300)+', top='+(screen.availHeight/2-150)+''); return false;" href="http://www.facebook.com/sharer.php?u=https://codingjam.it/come-creare-un-blog-jamstack-multilingua-con-nuxt-js-e-strapi-cms/" target="_blank" class="bwp-share-link bwp-facebook-share">
            <i class="fa fa-facebook"></i>
          </a>
        </li>
        <!-- end facebook -->
        <!-- twitter -->
        <li>
          <a rel="nofollow" onclick="window.open('https://twitter.com/share?url=https://codingjam.it/come-creare-un-blog-jamstack-multilingua-con-nuxt-js-e-strapi-cms/&amp;text=come-creare-un-blog-jamstack-multilingua-con-nuxt-js-e-strapi-cms', 'Twitter', 'width=600, height=300, left='+(screen.availWidth/2-300)+', top='+(screen.availHeight/2-150)+''); return false;" href="https://twitter.com/share?url=https://codingjam.it/come-creare-un-blog-jamstack-multilingua-con-nuxt-js-e-strapi-cms/&amp;text=come-creare-un-blog-jamstack-multilingua-con-nuxt-js-e-strapi-cms" target="_blank" class="bwp-share-link bwp-twitter-share">
            <i class="fa fa-twitter"></i>
          </a>
        </li>
        <!-- end twitter -->
        <!-- google+ -->
        <li>
          <a rel="nofollow" onclick="window.open('https://plus.google.com/share?url=https://codingjam.it/come-creare-un-blog-jamstack-multilingua-con-nuxt-js-e-strapi-cms/', 'Google plus', 'width=600, height=460, left='+(screen.availWidth/2-300)+', top='+(screen.availHeight/2-230)+''); return false;" href="https://plus.google.com/share?url=https://codingjam.it/come-creare-un-blog-jamstack-multilingua-con-nuxt-js-e-strapi-cms/" target="_blank" class="bwp-share-link bwp-google-plus-share">
            <i class="fa fa-google-plus"></i>
          </a>
        </li>
        <!-- end google+ -->
        <!-- vk -->
        <li>
          <a rel="nofollow" onclick="window.open('http://vk.com/share.php?url=https://codingjam.it/come-creare-un-blog-jamstack-multilingua-con-nuxt-js-e-strapi-cms/', 'VK', 'width=600, height=300, left='+(screen.availWidth/2-300)+', top='+(screen.availHeight/2-150)+''); return false;" href="http://vk.com/share.php?url=https://codingjam.it/come-creare-un-blog-jamstack-multilingua-con-nuxt-js-e-strapi-cms/" target="_blank" class="bwp-share-link bwp-vk-share">
            <i class="fa fa-vk"></i>
          </a>
        </li>
        <!-- end vk -->
        <!-- pinterest -->
        <li>
          <a rel="nofollow" onclick="window.open('http://pinterest.com/pin/create/button/?url=https://codingjam.it/come-creare-un-blog-jamstack-multilingua-con-nuxt-js-e-strapi-cms/&amp;media=&amp;description=come-creare-un-blog-jamstack-multilingua-con-nuxt-js-e-strapi-cms', 'Pinterest', 'width=600, height=300, left='+(screen.availWidth/2-300)+', top='+(screen.availHeight/2-150)+''); return false;" href="http://pinterest.com/pin/create/button/?url=https://codingjam.it/come-creare-un-blog-jamstack-multilingua-con-nuxt-js-e-strapi-cms/&amp;media=&amp;description=come-creare-un-blog-jamstack-multilingua-con-nuxt-js-e-strapi-cms" target="_blank" class="bwp-share-link bwp-pinterest-share">
            <i class="fa fa-pinterest-p"></i>
          </a>
        </li>
        <!-- end pinterest -->
      </ul>
    </div>
    <!-- end social sharing buttons -->

                      </div>
                  <div class="col-md-5">
                    
    <!-- counters -->
    <ul class="bwp-single-counters list-unstyled clearfix ">
                    <li class="bwp-comments-count"><a href="#comments"><i class="fa fa-comment-o"></i>0</a></li>
                </ul>
    <!-- end counters -->

                      </div>
                </div>
                <!-- end social sharing buttons / counters -->

                
      <!-- metadata -->
      <div class="bwp-single-metadata-wrap ">
        <ul class="bwp-single-metadata list-unstyled clearfix">
                      <!-- author -->
            <li>
              <span class="vcard author">
                <span class="fn">
                  <i class="fa fa-pencil-square-o"></i><a href="../author/andrea-stagi/index.html" title="Posts by Andrea Stagi" rel="author">Andrea Stagi</a>                </span>
              </span>
              <span class="bwp-metadata-slash">/</span>
            </li>
            <!-- end author -->
                                <!-- date -->
            <li>
                            <span class="date updated">
                <i class="fa fa-clock-o"></i><a href="../2020/06/03/index.html">03/06/2020</a>
              </span>
              <span class="bwp-metadata-slash">/</span>
            </li>
            <!-- end date -->
                                <!-- categories -->
            <li>
              <i class="fa fa-bookmark-o"></i><a href="../category/tutorial-2/index.html" rel="category tag">Tutorial</a>              <span class="bwp-metadata-slash">/</span>
            </li>
            <!-- end categories -->
                            </ul>
      </div>
      <!-- end metadata -->

      
          </div>
          <!-- end content container -->

        </article>
        <!-- end article -->

        
	<nav class="navigation post-navigation" role="navigation" aria-label="Posts">
		<h2 class="screen-reader-text">Post navigation</h2>
		<div class="nav-links"><div class="nav-previous"><a href="../come-creare-un-motore-di-rendering-custom-in-javascript/index.html" rel="prev"><span class="meta-nav"><i class="fa fa-angle-left"></i>Previous post</span><span class="post-title-nav">Come creare un motore di rendering in JavaScript</span></a></div></div>
	</nav>
    <!-- about the author -->
    <div class="bwp-about-author-container bwp-transition-3 clearfix">
      <!-- avatar -->
      <div class="bwp-about-author-avatar">
        <a href="../author/andrea-stagi/index.html">
          <img alt='' src='https://secure.gravatar.com/avatar/2c01fbda58ccbae404f853c9e587407c?s=150&amp;d=mm&amp;r=g' srcset='https://secure.gravatar.com/avatar/2c01fbda58ccbae404f853c9e587407c?s=300&#038;d=mm&#038;r=g 2x' class='avatar avatar-150 photo' height='150' width='150' />        </a>
      </div>
      <!-- end avatar -->
      <!-- biographical info -->
      <div class="bwp-about-author-bio-wrap">
        <h3 class="bwp-about-author-name">
          <a href="../author/andrea-stagi/index.html" title="Posts by Andrea Stagi" rel="author">Andrea Stagi</a>          <span><i class="fa fa-angle-double-right"></i>1 Posts</span>
        </h3>
        <div class="bwp-about-author-bio">
          CTO di Lotrèk di giorno, insonne sperimentatore di nuove tecnologie durante la notte, passa la sua vita tra i tasti meccanici di una tastiera e quelli ruvidi di una chitarra. Quando parenti e amici non lo chiamano perchè "non gli va il computer" lo trovate a caccia di qualche buona birra o qualche scatto interessante.        </div>
                  <ul class="bwp-about-author-social list-unstyled clearfix">
                              <li><a href="https://twitter.com/4stagi" target="_blank" class="bwp-a-twitter-link"><i class="fa fa-twitter"></i></a></li>
                                  <li><a href="https://www.facebook.com/andrea.stagi" target="_blank" class="bwp-a-facebook-link"><i class="fa fa-facebook"></i></a></li>
                                  <li><a href="https://dev.to/astagi" target="_blank" class="bwp-a-website-link"><i class="fa fa-link"></i></a></li>
                          </ul>
              </div>
      <!-- end biographical info -->
    </div>
    <!-- end about the author -->

    
<!-- comments -->
<div id="comments" class="comments-area">

	
	
		<div id="respond" class="comment-respond">
		<h2 id="reply-title" class="comment-reply-title"><span>Leave a reply</span> <small><a rel="nofollow" id="cancel-comment-reply-link" href="index.html#respond" style="display:none;">Cancel reply</a></small></h2><form action="https://codingjam.it/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate><p class="comment-notes">Your email address will not be published. Required fields are marked *</p><p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required"></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" required='required' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" required='required' /></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200" /></p>
<p class="comment-form-cookies-consent"><input id="wp-comment-cookies-consent" name="wp-comment-cookies-consent" type="checkbox" value="yes" /> <label for="wp-comment-cookies-consent">Save my name, email, and website in this browser for the next time I comment.</label></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post comment" /> <input type='hidden' name='comment_post_ID' value='18085' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p></form>	</div><!-- #respond -->
	
</div>
<!-- end comments -->

                  </div><!-- /bwp-single-content-col-wrap --></div><!-- /col-md-8 --><div class="col-md-4 bwp-sidebar-col bwp-sidebar-right">
        
                  </div><!-- /col --></div><!-- /row -->
        
      </div>
    </div>
  </section>
  <!-- end blog post - single page -->

  
<!-- footer -->
<footer id="bwp-footer-wrap">
  <div class="container">
    <div class="bwp-footer-container clearfix">

              <!-- footer text -->
        <div class="bwp-footer-text">
          CodingJam        </div>
        <!-- end footer text -->
      
              <!-- social links -->
        <ul class="bwp-footer-social-links list-unstyled clearfix">
          <li><a href="https://twitter.com/codingjam" target="_blank" class="bwp-f-twitter-link"><i class="fa fa-twitter"></i></a></li><li><a href="https://www.facebook.com/codingjamit/" target="_blank" class="bwp-f-facebook-link"><i class="fa fa-facebook"></i></a></li><li><a href="https://github.com/coding-jam" target="_blank" class="bwp-f-github-link"><i class="fa fa-github"></i></a></li>        </ul>
        <!-- end social links -->
      
    </div>
  </div>
</footer>
<!-- end footer -->

<!--googleoff: all--><div id="cookie-law-info-bar"><span>Questo sito Web utilizza i cookie per migliorare la tua esperienza. Daremo per scontato che per te sia ok, ma puoi disattivarlo se lo desideri..<a role='button' tabindex='0' data-cli_action="accept" id="cookie_action_close_header"  class="large cli-plugin-button cli-plugin-main-button cookie_action_close_header cli_action_button" style="display:inline-block; ">Accetto</a>  <a role='button' tabindex='0' id="cookie_action_close_header_reject"  class="large cli-plugin-button cli-plugin-main-button cookie_action_close_header_reject cli_action_button"  data-cli_action="reject">Annulla</a> <a href='../cookie.html' id="CONSTANT_OPEN_URL" target="_blank"  class="cli-plugin-main-link"  style="display:inline-block;" >Read More</a></span></div><div id="cookie-law-info-again" style="display:none;"><span id="cookie_hdr_showagain">Privacy & Cookies</span></div><div class="cli-modal" id="cliSettingsPopup" tabindex="-1" role="dialog" aria-labelledby="cliSettingsPopup" aria-hidden="true">
  <div class="cli-modal-dialog" role="document">
    <div class="cli-modal-content cli-bar-popup">
      <button type="button" class="cli-modal-close" id="cliModalClose">
        <svg class="" viewBox="0 0 24 24"><path d="M19 6.41l-1.41-1.41-5.59 5.59-5.59-5.59-1.41 1.41 5.59 5.59-5.59 5.59 1.41 1.41 5.59-5.59 5.59 5.59 1.41-1.41-5.59-5.59z"></path><path d="M0 0h24v24h-24z" fill="none"></path></svg>
        <span class="wt-cli-sr-only">Close</span>
      </button>
      <div class="cli-modal-body">
        <div class="cli-container-fluid cli-tab-container">
    <div class="cli-row">
        <div class="cli-col-12 cli-align-items-stretch cli-px-0">
            <div class="cli-privacy-overview">
                                                   
                <div class="cli-privacy-content">
                    <div class="cli-privacy-content-text"></div>
                </div>
                <a class="cli-privacy-readmore" data-readmore-text="Show more" data-readless-text="Show less"></a>            </div>
        </div>  
        <div class="cli-col-12 cli-align-items-stretch cli-px-0 cli-tab-section-container">
              
                            <div class="cli-tab-section">
                    <div class="cli-tab-header">
                        <a role="button" tabindex="0" class="cli-nav-link cli-settings-mobile" data-target="necessary" data-toggle="cli-toggle-tab" >
                            Necessary 
                        </a>
                    
                    <span class="cli-necessary-caption">Always Enabled</span>                     </div>
                    <div class="cli-tab-content">
                        <div class="cli-tab-pane cli-fade" data-id="necessary">
                            <p></p>
                        </div>
                    </div>
                </div>
              
                       
        </div>
    </div> 
</div> 
      </div>
    </div>
  </div>
</div>
<div class="cli-modal-backdrop cli-fade cli-settings-overlay"></div>
<div class="cli-modal-backdrop cli-fade cli-popupbar-overlay"></div>
<script type="text/javascript">
  /* <![CDATA[ */
  cli_cookiebar_settings='{"animate_speed_hide":"500","animate_speed_show":"500","background":"#fff","border":"#444","border_on":false,"button_1_button_colour":"#000","button_1_button_hover":"#000000","button_1_link_colour":"#fff","button_1_as_button":true,"button_1_new_win":false,"button_2_button_colour":"#333","button_2_button_hover":"#292929","button_2_link_colour":"#444","button_2_as_button":false,"button_2_hidebar":false,"button_3_button_colour":"#000","button_3_button_hover":"#000000","button_3_link_colour":"#fff","button_3_as_button":true,"button_3_new_win":false,"button_4_button_colour":"#000","button_4_button_hover":"#000000","button_4_link_colour":"#fff","button_4_as_button":true,"font_family":"inherit","header_fix":false,"notify_animate_hide":true,"notify_animate_show":false,"notify_div_id":"#cookie-law-info-bar","notify_position_horizontal":"right","notify_position_vertical":"bottom","scroll_close":false,"scroll_close_reload":false,"accept_close_reload":false,"reject_close_reload":false,"showagain_tab":true,"showagain_background":"#fff","showagain_border":"#000","showagain_div_id":"#cookie-law-info-again","showagain_x_position":"100px","text":"#000","show_once_yn":false,"show_once":"10000","logging_on":false,"as_popup":false,"popup_overlay":true,"bar_heading_text":"","cookie_bar_as":"banner","popup_showagain_position":"bottom-right","widget_position":"left"}';
  /* ]]> */
</script>
<!--googleon: all--><script type='text/javascript' src='../wp-content/themes/melissa/js/bootstrap.min7433.js?ver=3.3.7'></script>
<script type='text/javascript' src='../wp-content/themes/melissa/js/jquery.parallaxc358.js?ver=1.1.3'></script>
<script type='text/javascript' src='../wp-content/themes/melissa/js/superfish.min97e9.js?ver=1.7.9'></script>
<script type='text/javascript' src='../wp-content/themes/melissa/assets/owl-carousel/owl.carousel.min3ba1.js?ver=1.3.3'></script>
<script type='text/javascript' src='../wp-content/themes/melissa/assets/magnific-popup/jquery.magnific-popup.minf488.js?ver=1.1.0'></script>
<script type='text/javascript' src='../wp-content/themes/melissa/js/ie10-viewport-bug-workaround8a54.js?ver=1.0.0'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var melissaData = {"ajaxURL":"https:\/\/codingjam.it\/wp-admin\/admin-ajax.php","ajaxNonce":"a920e07833","templateDirectoryUri":"https:\/\/codingjam.it\/wp-content\/themes\/melissa","isMobile":"false","isSingular":"true","adminBar":"false","headerType":"simple-header","stickyNavigation":"true","isMasonry":"false","masonryColumnWidth":"","infiniteScroll":"false","iScrollLoadMoreBtn":"false","linksTarget":"_self","retinaDataAttr":"false","toTopButton":"true","iScrollLoadingMsg":"Loading new posts...","iScrollFinishedMsg":"No more posts to load","loadMoreBtnText":"Load More"};
/* ]]> */
</script>
<script type='text/javascript' src='../wp-content/themes/melissa/js/themef488.js?ver=1.1.0'></script>
<script type='text/javascript' src='../wp-content/themes/melissa/js/retina.min6f3e.js?ver=1.3.0'></script>
</body>

<!-- Mirrored from codingjam.it/come-creare-un-blog-jamstack-multilingua-con-nuxt-js-e-strapi-cms/ by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 04 Dec 2020 23:48:39 GMT -->
</html>